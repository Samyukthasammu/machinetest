{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
     
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js" integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk" crossorigin="anonymous"></script>
    <link href="{% static 'css/calculator.css' %}" rel="stylesheet">
</head>
<body>
    <div class= "formstyle">  
        <form name = "form1"> 
            <input type="text" id="display" class="cal" disabled>
            <br><br>
            <input type="button" value="1" onclick="addToScreen(1)">
            <input type="button" value="2" onclick="addToScreen(2)">
            <input type="button" value="3" onclick="addToScreen(3)">
            <input type="button" value="+" onclick="addToScreen('+')">
            <br>
            
            <input type="button" value="4" onclick="addToScreen(4)">
            <input type="button" value="5" onclick="addToScreen(5)">
            <input type="button" value="6" onclick="addToScreen(6)">
            <input type="button" value="-" onclick="addToScreen('-')">
            <br>
            
            <input type="button" value="7" onclick="addToScreen(7)">
            <input type="button" value="8" onclick="addToScreen(8)">
            <input type="button" value="9" onclick="addToScreen(9)">
            <input type="button" value="*" onclick="addToScreen('*')">
            <br>
            
            <input type="button" value="AC" onclick="clearScreen()">
            <input type="button" value="0" onclick="addToScreen(0)">
            <input type="button" value="." onclick="addDecimal()">
            <input type="button" value="/" onclick="addToScreen('/')">
            <br>
            
            <input type="button" value="=" onclick="calculate()">
            </form>
    </div>
    
            
            <script>
            let operatorAdded = false;
            
            function addToScreen(val) {
                if(val === '+' || val === '-' || val === '*' || val === '/') {
                    if(operatorAdded) {
                        return;
                    }
                    operatorAdded = true;
                }else {
                    operatorAdded = false;
                }
                display.value += val;
            }
            
            function addDecimal() {
                if(display.value === '' || operatorAdded) {
                    return;
                }
                if(display.value.indexOf('.') === -1) {
                    display.value += '.';
                }
            }
            
            function clearScreen() {
                display.value = '';
                operatorAdded = false;
            }
            
            function calculate() {
                const exp = display.value;
                try {
                    const result = eval(exp);
                    display.value = result;
                } 
                catch(error) {
                    console.log('Error in expression')
                }
                operatorAdded = false;
            }
            
            </script>
    
</body>
</html>

</body>
</html>